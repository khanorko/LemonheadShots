<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>🍌 Banana Headshot Generator</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container">
    <h1 class="title">🍌 Banana Headshot Generator</h1>

    <div class="controls">
      <div class="step-header">
        <div class="step-label">Step 1 — Upload your images</div>
        <div class="step-actions">
          <label for="profilesInput" class="file-input file-input-primary">
            <span>📷 Upload Profile Images (multi)</span>
            <input type="file" id="profilesInput" accept="image/*" multiple style="display: none;" />
          </label>
          <button id="clearUploadsBtn" class="btn btn-clear">🗑️ Clear Uploads</button>
        </div>
      </div>
      
      <div id="uploadedPreviews" class="uploaded-previews"></div>
      <div class="face-mode-selector">
        <div class="mode-header">
          <h3 class="mode-title">Face Composition Mode</h3>
          <button id="faceModeInfoBtn" class="info-btn" title="Click for more information">ℹ️</button>
        </div>
        <div class="mode-options">
          <label class="mode-option">
            <input type="radio" name="faceMode" value="preserve" checked>
            <div class="mode-card">
              <div class="mode-icon">👤</div>
              <div class="mode-text">
                <strong>Use One Selected Image</strong>
                <span>Generate using only the selected image (others ignored)</span>
              </div>
            </div>
          </label>
          <label class="mode-option">
            <input type="radio" name="faceMode" value="mix">
            <div class="mode-card">
              <div class="mode-icon">🎭</div>
              <div class="mode-text">
                <strong>Mix All Faces</strong>
                <span>Blend features from ALL images into one composite face</span>
              </div>
            </div>
          </label>
        </div>
      </div>
      <div class="step-label">Step 2 — Pick styles</div>
      <div id="stylesGrid" class="styles-grid"></div>

      <div class="generate-cta">
        <button id="generateBtn" class="btn btn-cta">✨ Generate Headshots</button>
        <div id="costEstimation" class="cost-estimation" style="display: none;">
          Estimated cost: <span id="costAmount">$0.00</span> (≈ <span id="costSek">0 SEK</span>)
        </div>
      </div>
    </div>

    <div id="progressContainer" class="progress-container" style="display: none;"></div>
    <div id="resultsSection" class="results-section" style="display: none;">
      <div class="results-header">
        <h3>✨ Generated Headshots</h3>
        <button id="clearHeadshotsBtn" class="btn btn-secondary">🗑️ Clear Headshots</button>
      </div>
      <div id="resultsGrid" class="results-grid"></div>
    </div>
  </div>

  <!-- Info Modal -->
  <div id="infoModal" class="info-modal" style="display: none;">
    <div class="info-modal-content">
      <button id="closeModalBtn" class="close-modal">×</button>
      <h2>Face Composition Modes</h2>
      
      <div class="info-section">
        <h3>👤 Use One Selected Image</h3>
        <p><strong>How it works:</strong> Only the image you select (marked with ⭐) will be used for generation. Other uploaded images will be ignored.</p>
        <p><strong>Best for:</strong> When you want to generate variations of a specific person's photo in different styles.</p>
        <p><strong>Result:</strong> All generated images will show the same person from the selected image.</p>
      </div>
      
      <div class="info-section">
        <h3>🎭 Mix All Faces</h3>
        <p><strong>How it works:</strong> The AI will blend facial features from ALL uploaded images to create a composite face.</p>
        <p><strong>Best for:</strong> Creating an "average" or "combination" of multiple faces.</p>
        <p><strong>Result:</strong> A unique face that combines features from all your uploaded images.</p>
      </div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
